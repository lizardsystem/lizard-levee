{% extends "lizard_map/wms.html" %}
{% load i18n %}
{% load thumbnail %}

{% block css %}
  {{ block.super }}
  <link rel="stylesheet"
        href="{{ STATIC_URL }}lizard_levee/lizard_levee.css"
        type="text/css"
        media="screen, projection" />
{% endblock css %}


{% block sidebar %}
  <h2>{{ view.page_title }}</h2>
  <p class="muted">
    {% blocktrans %}Filter on sensor types.{% endblocktrans %}
  </p>
  <form>
    {% for sensor_type in view.sensor_types %}
      <label class="checkbox">
        <input type="checkbox" /> {{ sensor_type }}
      </label>
    {% endfor %}
  </form>

  <h2>{% trans "Display options" %}</h2>
  <ul>
    {% for display_option in view.display_options %}
      <li>
        <a href="#"
           class="display-option-link"
           data-kind="{{ display_option.kind }}">
          {{ display_option.title }}
        </a>
      </li>
    {% endfor %}
  </ul>

  <h2>{% trans "Generic information" %}</h2>
  <p class="muted">
    {% blocktrans %}Information shown on the overview page.{% endblocktrans %}
  </p>
  <h3>{% trans "Relevant links" %}</h3>
  <ul>
    {% for link in view.links %}
      <li>
        <a href="{{ link.url }}"
           {% if link.description %}
           title="{{ link.description }}"
           {% endif %}
           >{{ link.title }}</a>
      </li>
    {% endfor %}
  </ul>

  <h3>{% trans "Extra pointers (with explanatory image)" %}</h3>
  <ul>
    {% for information_pointer in view.information_pointers %}
      {% thumbnail information_pointer.image "100x100" crop="center" as im %}
        <li class="has_popover"
            title="{{ information_pointer.title }}"
            data-content="{{ information_pointer.description }}<br/><img src='{{ im.url }}' />">
          <a href="{{ information_pointer.href }}">
            {{ information_pointer.title }}
          </a>
        </li>
      {% endthumbnail %}
    {% endfor %}
  </ul>
{% endblock sidebar %}


{% block content %}
  {{ block.super }}  {# The map, which is 300px big. #}
  <div id="below-map">

    <div id="expert-graph">
      <img src="{{ STATIC_URL }}lizard_levee/dummy-expert-graph.jpg" />
    </div>

    <div id="cross-section">
      {% thumbnail view.area.cross_section_image "800x100" crop="center" as im %}
        <div class="cross-section-image">
          <img src="{{ im.url }}"
               width="{{ im.width }}"
               height="{{ im.height }}" />
        </div>
      {% endthumbnail %}
      <div class="graphs">
        TODO: graphs go here.
      </div>
    </div>

    <div id="longitudinal-cross-section">
      {% thumbnail view.area.longitudinal_cross_section_image "800x100" crop="center" as im %}
        <div class="cross-section-image">
          <img src="{{ im.url }}"
               width="{{ im.width }}"
               height="{{ im.height }}" />
        </div>
      {% endthumbnail %}
      <div class="graphs">
        TODO: graphs go here.
      </div>
    </div>

  </div>

{% endblock %}
